var xmlToJson=(()=>{return this.axConvertor=(a,b,c)=>a&&0!=a.length?a?null==typeof b||"undefined"==typeof b?"You haven't specified the data type (file or content)":b?tagExtractor(c?webFileReader(a):readFile(a,!0)):tagExtractor(a):"The Data parameter is missing":"Invalid",this.webFileReader=a=>a&&0!=a.length?new Promise(b=>{const c=new FileReader;c.onloadend=()=>b(c.result),c.readAsText(a)}):"Invalid",this.readFile=(a,b)=>{if(!a||0==a.length)return"Invalid";const c=require("fs");return new Promise((d,e)=>{c.readFile(a,"utf8",async(c,f)=>null==c?void(b&&(await removeFile(a)),d(f)):void e(c))})},this.removeFile=a=>{if(!a||0==a.length)return"Invalid";const b=require("fs");return new Promise((c,d)=>{b.unlink(a,a=>null==a?void c(!0):void d(a))})},this.getHeadOfTag=a=>a&&0!=a.length?a.slice(1,a.indexOf(" ")):"Invalid",this.getContentOfTag=a=>{if(!a||0==a.length)return"Invalid";if(0==a.indexOf("<!--!"))return a.slice(0,a.indexOf("-->")+3);const b=a.slice(1);return b.indexOf(">")+1<b.indexOf("<")?b.slice(b.indexOf(">")+1,b.indexOf("<")):null},this.getAttrsOfTag=a=>{if(!a||0==a.length)return"Invalid";let b=a.slice(a.indexOf(" ")+1,a.length);return 0<=a.indexOf(" ")?b.slice(0,b.length-("/"===b[b.length-2]?2:1)):null},this.attrExtrator=a=>{if(!a||0==a.length)return"Invalid";const b={};a=a.substring(1,a.length-1);const c=a.split("\" ");return c.forEach(a=>{if(a&&0>a.indexOf("null")&&0<a.length){a.lastIndexOf("\"")==a.length-1&&(a=a.substring(0,a.length-1));const c=a.split("=\"");c[0]&&c[1]&&0<c[0].length&&0<c[1].length&&(c[1]=c[1].trim(),"style"==c[0].trim()&&(c[1]=styleExtractor(c[1])),b[c[0].trim()]=c[1])}}),b},this.styleExtractor=a=>{if(!a||0==a.length)return"Invalid";const b={},c=a.split(";");return c.forEach(a=>{if(a&&0>a.indexOf("null")&&0<a.length){const c=a.split(":");c[0]&&c[1]&&0<c[0].length&&0<c[1].length&&(b[c[0].trim()]=c[1].trim())}}),b},this.tagExtractor=a=>{if(!a||0==a.length)return"Invalid";const b=[];for(;0<a.length;){const c=a.slice(a.indexOf("<"),a.indexOf(">")+1);0!=c.indexOf("</")&&b.push({tag:getHeadOfTag(c),attributes:attrExtrator(` ${getAttrsOfTag(c)} `),content:getContentOfTag(a)}),a=a.slice(a.indexOf(">")+1)}return b},this}).call({});"undefined"!=typeof module&&null!==module&&module.exports?module.exports=xmlToJson:"function"==typeof define&&define.amd&&define(function(){return xmlToJson});